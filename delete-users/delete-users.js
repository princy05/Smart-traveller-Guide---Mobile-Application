"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var admin_view_model_1 = require("../admin/admin-view-model");
var admin_view_model_2 = require("../admin/admin-view-model");
var dialogs = require("tns-core-modules/ui/dialogs");
var observable_1 = require("tns-core-modules/data/observable");
var a1 = admin_view_model_2.arr1;
var a = admin_view_model_1.test();
var route1_lat = [];
var route1_lon = [];
var route1_name = [];
var route2 = [];
var len = a.length;
var n = 0;
while (n < len) {
    var ab1 = {};
    ab1['title'] = a[n].email;
    route2.push(ab1);
    n++;
}
console.log(route2);
function onTap(args) {
    var button = args.object;
    var page = button.page;
    page.frame.navigate("./admin/admin-page");
}
exports.onTap = onTap;
function onNavigatingTo(args) {
    var a1 = admin_view_model_2.arr1;
    var a = admin_view_model_1.test();
    var route1_lat = [];
    var route1_lon = [];
    var route1_name = [];
    var route2 = [];
    var len = a.length;
    var n = 0;
    while (n < len) {
        var ab1 = {};
        ab1['title'] = a[n].email;
        route2.push(ab1);
        n++;
    }
    console.log(route2);
    var page = args.object;
    var vm = observable_1.fromObject({
        myTitles: route2
    });
    page.bindingContext = vm;
}
exports.onNavigatingTo = onNavigatingTo;
function onListViewLoaded(args) {
    var listView = args.object;
}
exports.onListViewLoaded = onListViewLoaded;
function onItemTap(args) {
    var index = args.index;
    console.log(index);
    var a1 = a[index]._id;
    fetch("http://ec2-18-218-173-14.us-east-2.compute.amazonaws.com:3000/user" + '/' + a1, {
        method: 'delete'
    }).then(function (response) {
        return response.json().then(function (json) {
            return json;
        });
    });
    dialogs.alert("User deleted").then(function () {
        console.log("Dialog closed!");
    });
    var page = args.object.page;
    var vm = page.bindingContext;
    page.frame.navigate("./admin/admin-page");
    console.log("Second ListView item tap " + index);
}
exports.onItemTap = onItemTap;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVsZXRlLXVzZXJzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiZGVsZXRlLXVzZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsOERBQWlEO0FBSWpELDhEQUErQztBQUUvQyxxREFBdUQ7QUFHdkQsK0RBQW1IO0FBRW5ILElBQUksRUFBRSxHQUFDLHVCQUFJLENBQUM7QUFDWixJQUFJLENBQUMsR0FBQyx1QkFBSSxFQUFFLENBQUM7QUFDYixJQUFJLFVBQVUsR0FBQyxFQUFFLENBQUM7QUFDbEIsSUFBSSxVQUFVLEdBQUMsRUFBRSxDQUFDO0FBQ2xCLElBQUksV0FBVyxHQUFDLEVBQUUsQ0FBQztBQUNuQixJQUFJLE1BQU0sR0FBQyxFQUFFLENBQUM7QUFDZCxJQUFJLEdBQUcsR0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQ2pCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNWLE9BQU8sQ0FBQyxHQUFHLEdBQUcsRUFBRTtJQUNkLElBQUksR0FBRyxHQUFDLEVBQUUsQ0FBQztJQUNYLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO0lBQzFCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDakIsQ0FBQyxFQUFFLENBQUM7Q0FDTDtBQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7QUFFcEIsU0FBZ0IsS0FBSyxDQUFDLElBQWU7SUFDbkMsSUFBTSxNQUFNLEdBQW1CLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDM0MsSUFBTSxJQUFJLEdBQVMsTUFBTSxDQUFDLElBQUksQ0FBQztJQUUvQixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBQzVDLENBQUM7QUFMRCxzQkFLQztBQUVELFNBQWdCLGNBQWMsQ0FBQyxJQUFlO0lBQzVDLElBQUksRUFBRSxHQUFDLHVCQUFJLENBQUM7SUFDZCxJQUFJLENBQUMsR0FBQyx1QkFBSSxFQUFFLENBQUM7SUFDYixJQUFJLFVBQVUsR0FBQyxFQUFFLENBQUM7SUFDbEIsSUFBSSxVQUFVLEdBQUMsRUFBRSxDQUFDO0lBQ2xCLElBQUksV0FBVyxHQUFDLEVBQUUsQ0FBQztJQUNuQixJQUFJLE1BQU0sR0FBQyxFQUFFLENBQUM7SUFDZCxJQUFJLEdBQUcsR0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBQ2pCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNWLE9BQU8sQ0FBQyxHQUFHLEdBQUcsRUFBRTtRQUNkLElBQUksR0FBRyxHQUFDLEVBQUUsQ0FBQztRQUNYLEdBQUcsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDO1FBQzFCLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDakIsQ0FBQyxFQUFFLENBQUM7S0FDTDtJQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDaEIsSUFBTSxJQUFJLEdBQVMsSUFBSSxDQUFDLE1BQU0sQ0FBQztJQUMvQixJQUFNLEVBQUUsR0FBRyx1QkFBVSxDQUFDO1FBQ2xCLFFBQVEsRUFBRSxNQUFNO0tBQ25CLENBQUMsQ0FBQztJQUNILElBQUksQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO0FBQzdCLENBQUM7QUFyQkQsd0NBcUJDO0FBRUQsU0FBZ0IsZ0JBQWdCLENBQUMsSUFBZTtJQUM1QyxJQUFNLFFBQVEsR0FBYSxJQUFJLENBQUMsTUFBTSxDQUFDO0FBQzNDLENBQUM7QUFGRCw0Q0FFQztBQUVELFNBQWdCLFNBQVMsQ0FBQyxJQUFJO0lBQzFCLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNuQixJQUFJLEVBQUUsR0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDO0lBQ3BCLEtBQUssQ0FBQyxvRUFBb0UsR0FBRyxHQUFHLEdBQUcsRUFBRSxFQUFFO1FBQ25GLE1BQU0sRUFBRSxRQUFRO0tBQ2pCLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQSxRQUFRO1FBQ2QsT0FBQSxRQUFRLENBQUMsSUFBSSxFQUFFLENBQUMsSUFBSSxDQUFDLFVBQUEsSUFBSTtZQUN2QixPQUFPLElBQUksQ0FBQztRQUNkLENBQUMsQ0FBQztJQUZGLENBRUUsQ0FDSCxDQUFDO0lBRUYsT0FBTyxDQUFDLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQyxJQUFJLENBQUM7UUFDakMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO0lBQ2xDLENBQUMsQ0FBQyxDQUFDO0lBQ0QsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDNUIsSUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBRzlDLE9BQU8sQ0FBQyxHQUFHLENBQUMsOEJBQTRCLEtBQU8sQ0FBQyxDQUFDO0FBQ3JELENBQUM7QUFyQkQsOEJBcUJDIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5pbXBvcnQgeyB0ZXN0IH0gZnJvbSBcIi4uL2FkbWluL2FkbWluLXZpZXctbW9kZWxcIjtcclxuaW1wb3J0IHsgTGFiZWwgfSBmcm9tIFwidG5zLWNvcmUtbW9kdWxlcy91aS9sYWJlbFwiO1xyXG5pbXBvcnQgeyBQYWdlIH0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdWkvcGFnZVwiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwidG5zLWNvcmUtbW9kdWxlcy91aS9idXR0b25cIjtcclxuaW1wb3J0IHthcnIxfSBmcm9tICcuLi9hZG1pbi9hZG1pbi12aWV3LW1vZGVsJztcclxuaW1wb3J0IHsgRXZlbnREYXRhIH0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvZGF0YS9vYnNlcnZhYmxlXCI7XHJcbmltcG9ydCAqIGFzIGRpYWxvZ3MgZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdWkvZGlhbG9nc1wiO1xyXG5cclxuaW1wb3J0IHsgTGlzdFZpZXcsIEl0ZW1FdmVudERhdGEgfSBmcm9tIFwidG5zLWNvcmUtbW9kdWxlcy91aS9saXN0LXZpZXdcIjtcclxuaW1wb3J0IHsgZnJvbU9iamVjdCwgZnJvbU9iamVjdFJlY3Vyc2l2ZSwgT2JzZXJ2YWJsZSwgUHJvcGVydHlDaGFuZ2VEYXRhIH0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvZGF0YS9vYnNlcnZhYmxlXCI7XHJcblxyXG5sZXQgYTE9YXJyMTtcclxubGV0IGE9dGVzdCgpO1xyXG5sZXQgcm91dGUxX2xhdD1bXTtcclxubGV0IHJvdXRlMV9sb249W107XHJcbmxldCByb3V0ZTFfbmFtZT1bXTtcclxubGV0IHJvdXRlMj1bXTtcclxubGV0IGxlbj1hLmxlbmd0aDtcclxudmFyIG4gPSAwO1xyXG53aGlsZSAobiA8IGxlbikge1xyXG4gIGxldCBhYjE9e307XHJcbiAgYWIxWyd0aXRsZSddID0gYVtuXS5lbWFpbDtcclxuICByb3V0ZTIucHVzaChhYjEpOyAgICBcclxuICBuKys7XHJcbn1cclxuY29uc29sZS5sb2cocm91dGUyKTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvblRhcChhcmdzOiBFdmVudERhdGEpIHtcclxuICBjb25zdCBidXR0b246IEJ1dHRvbiA9IDxCdXR0b24+YXJncy5vYmplY3Q7XHJcbiAgY29uc3QgcGFnZTogUGFnZSA9IGJ1dHRvbi5wYWdlO1xyXG4gIFxyXG4gIHBhZ2UuZnJhbWUubmF2aWdhdGUoXCIuL2FkbWluL2FkbWluLXBhZ2VcIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvbk5hdmlnYXRpbmdUbyhhcmdzOiBFdmVudERhdGEpIHtcclxuICBsZXQgYTE9YXJyMTtcclxubGV0IGE9dGVzdCgpO1xyXG5sZXQgcm91dGUxX2xhdD1bXTtcclxubGV0IHJvdXRlMV9sb249W107XHJcbmxldCByb3V0ZTFfbmFtZT1bXTtcclxubGV0IHJvdXRlMj1bXTtcclxubGV0IGxlbj1hLmxlbmd0aDtcclxudmFyIG4gPSAwO1xyXG53aGlsZSAobiA8IGxlbikge1xyXG4gIGxldCBhYjE9e307XHJcbiAgYWIxWyd0aXRsZSddID0gYVtuXS5lbWFpbDtcclxuICByb3V0ZTIucHVzaChhYjEpOyAgICBcclxuICBuKys7XHJcbn1cclxuY29uc29sZS5sb2cocm91dGUyKTtcclxuICAgIGNvbnN0IHBhZ2UgPSA8UGFnZT5hcmdzLm9iamVjdDtcclxuICAgIGNvbnN0IHZtID0gZnJvbU9iamVjdCh7XHJcbiAgICAgICAgbXlUaXRsZXM6IHJvdXRlMlxyXG4gICAgfSk7XHJcbiAgICBwYWdlLmJpbmRpbmdDb250ZXh0ID0gdm07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvbkxpc3RWaWV3TG9hZGVkKGFyZ3M6IEV2ZW50RGF0YSkge1xyXG4gICAgY29uc3QgbGlzdFZpZXcgPSA8TGlzdFZpZXc+YXJncy5vYmplY3Q7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBvbkl0ZW1UYXAoYXJncykge1xyXG4gICAgY29uc3QgaW5kZXggPSBhcmdzLmluZGV4O1xyXG4gICAgY29uc29sZS5sb2coaW5kZXgpO1xyXG4gICAgbGV0IGExPWFbaW5kZXhdLl9pZDtcclxuICAgIGZldGNoKFwiaHR0cDovL2VjMi0xOC0yMTgtMTczLTE0LnVzLWVhc3QtMi5jb21wdXRlLmFtYXpvbmF3cy5jb206MzAwMC91c2VyXCIgKyAnLycgKyBhMSwge1xyXG4gICAgICAgIG1ldGhvZDogJ2RlbGV0ZSdcclxuICAgICAgfSkudGhlbihyZXNwb25zZSA9PlxyXG4gICAgICAgIHJlc3BvbnNlLmpzb24oKS50aGVuKGpzb24gPT4ge1xyXG4gICAgICAgICAgcmV0dXJuIGpzb247XHJcbiAgICAgICAgfSlcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGRpYWxvZ3MuYWxlcnQoXCJVc2VyIGRlbGV0ZWRcIikudGhlbigoKT0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkRpYWxvZyBjbG9zZWQhXCIpO1xyXG4gICAgfSk7XHJcbiAgICAgIGNvbnN0IHBhZ2UgPSBhcmdzLm9iamVjdC5wYWdlO1xyXG4gICAgICAgIGNvbnN0IHZtID0gcGFnZS5iaW5kaW5nQ29udGV4dDtcclxuICAgICAgICBwYWdlLmZyYW1lLm5hdmlnYXRlKFwiLi9hZG1pbi9hZG1pbi1wYWdlXCIpO1xyXG4gICAgICBcclxuXHJcbiAgICBjb25zb2xlLmxvZyhgU2Vjb25kIExpc3RWaWV3IGl0ZW0gdGFwICR7aW5kZXh9YCk7XHJcbn0iXX0=