"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var admin_view_model_1 = require("../admin/admin-view-model");
var admin_view_model_2 = require("../admin/admin-view-model");
var dialogs = require("tns-core-modules/ui/dialogs");
var observable_1 = require("tns-core-modules/data/observable");
var a1 = admin_view_model_2.arr1;
var a = admin_view_model_1.test();
var route1_lat = [];
var route1_lon = [];
var route1_name = [];
var route2 = [];
var len = a.length;
var n = 0;
while (n < len) {
    var ab1 = {};
    ab1['title'] = a[n].email;
    route2.push(ab1);
    n++;
}
console.log(route2);
function onTap(args) {
    var button = args.object;
    var page = button.page;
    page.frame.navigate("./admin/admin-page");
}
exports.onTap = onTap;
function onNavigatingTo(args) {
    var a1 = admin_view_model_2.arr1;
    var a = admin_view_model_1.test();
    var route1_lat = [];
    var route1_lon = [];
    var route1_name = [];
    var route2 = [];
    var len = a.length;
    var n = 0;
    while (n < len) {
        var ab1 = {};
        ab1['title'] = a[n].email;
        route2.push(ab1);
        n++;
    }
    console.log(route2);
    var page = args.object;
    var vm = observable_1.fromObject({
        myTitles: route2
    });
    page.bindingContext = vm;
}
exports.onNavigatingTo = onNavigatingTo;
function onListViewLoaded(args) {
    var listView = args.object;
}
exports.onListViewLoaded = onListViewLoaded;
function onItemTap(args) {
    var index = args.index;
    console.log(index);
    var a1 = a[index]._id;
    fetch("http://ec2-18-218-173-14.us-east-2.compute.amazonaws.com:3000/user" + '/' + a1, {
        method: 'delete'
    }).then(function (response) {
        return response.json().then(function (json) {
            return json;
        });
    });
    dialogs.alert("User deleted").then(function () {
        console.log("Dialog closed!");
    });
    var page = args.object.page;
    var vm = page.bindingContext;
    page.frame.navigate("./admin/admin-page");
    console.log("Second ListView item tap " + index);
}
exports.onItemTap = onItemTap;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGlzcGxheS1hbGwtdXNlcnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJkaXNwbGF5LWFsbC11c2Vycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLDhEQUFpRDtBQUlqRCw4REFBK0M7QUFFL0MscURBQXVEO0FBR3ZELCtEQUFtSDtBQUVuSCxJQUFJLEVBQUUsR0FBQyx1QkFBSSxDQUFDO0FBQ1osSUFBSSxDQUFDLEdBQUMsdUJBQUksRUFBRSxDQUFDO0FBQ2IsSUFBSSxVQUFVLEdBQUMsRUFBRSxDQUFDO0FBQ2xCLElBQUksVUFBVSxHQUFDLEVBQUUsQ0FBQztBQUNsQixJQUFJLFdBQVcsR0FBQyxFQUFFLENBQUM7QUFDbkIsSUFBSSxNQUFNLEdBQUMsRUFBRSxDQUFDO0FBQ2QsSUFBSSxHQUFHLEdBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUNqQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDVixPQUFPLENBQUMsR0FBRyxHQUFHLEVBQUU7SUFDZCxJQUFJLEdBQUcsR0FBQyxFQUFFLENBQUM7SUFDWCxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztJQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pCLENBQUMsRUFBRSxDQUFDO0NBQ0w7QUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0FBRXBCLFNBQWdCLEtBQUssQ0FBQyxJQUFlO0lBQ25DLElBQU0sTUFBTSxHQUFtQixJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzNDLElBQU0sSUFBSSxHQUFTLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFFL0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsQ0FBQztBQUM1QyxDQUFDO0FBTEQsc0JBS0M7QUFFRCxTQUFnQixjQUFjLENBQUMsSUFBZTtJQUM1QyxJQUFJLEVBQUUsR0FBQyx1QkFBSSxDQUFDO0lBQ2QsSUFBSSxDQUFDLEdBQUMsdUJBQUksRUFBRSxDQUFDO0lBQ2IsSUFBSSxVQUFVLEdBQUMsRUFBRSxDQUFDO0lBQ2xCLElBQUksVUFBVSxHQUFDLEVBQUUsQ0FBQztJQUNsQixJQUFJLFdBQVcsR0FBQyxFQUFFLENBQUM7SUFDbkIsSUFBSSxNQUFNLEdBQUMsRUFBRSxDQUFDO0lBQ2QsSUFBSSxHQUFHLEdBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztJQUNqQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDVixPQUFPLENBQUMsR0FBRyxHQUFHLEVBQUU7UUFDZCxJQUFJLEdBQUcsR0FBQyxFQUFFLENBQUM7UUFDWCxHQUFHLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztRQUMxQixNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLENBQUMsRUFBRSxDQUFDO0tBQ0w7SUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hCLElBQU0sSUFBSSxHQUFTLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDL0IsSUFBTSxFQUFFLEdBQUcsdUJBQVUsQ0FBQztRQUNsQixRQUFRLEVBQUUsTUFBTTtLQUNuQixDQUFDLENBQUM7SUFDSCxJQUFJLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQztBQUM3QixDQUFDO0FBckJELHdDQXFCQztBQUVELFNBQWdCLGdCQUFnQixDQUFDLElBQWU7SUFDNUMsSUFBTSxRQUFRLEdBQWEsSUFBSSxDQUFDLE1BQU0sQ0FBQztBQUMzQyxDQUFDO0FBRkQsNENBRUM7QUFFRCxTQUFnQixTQUFTLENBQUMsSUFBSTtJQUMxQixJQUFNLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDO0lBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDbkIsSUFBSSxFQUFFLEdBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQztJQUNwQixLQUFLLENBQUMsb0VBQW9FLEdBQUcsR0FBRyxHQUFHLEVBQUUsRUFBRTtRQUNuRixNQUFNLEVBQUUsUUFBUTtLQUNqQixDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsUUFBUTtRQUNkLE9BQUEsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxVQUFBLElBQUk7WUFDdkIsT0FBTyxJQUFJLENBQUM7UUFDZCxDQUFDLENBQUM7SUFGRixDQUVFLENBQ0gsQ0FBQztJQUVGLE9BQU8sQ0FBQyxLQUFLLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxDQUFDO1FBQ2pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUMsQ0FBQztJQUNsQyxDQUFDLENBQUMsQ0FBQztJQUNELElBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQzVCLElBQU0sRUFBRSxHQUFHLElBQUksQ0FBQyxjQUFjLENBQUM7SUFDL0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsb0JBQW9CLENBQUMsQ0FBQztJQUc5QyxPQUFPLENBQUMsR0FBRyxDQUFDLDhCQUE0QixLQUFPLENBQUMsQ0FBQztBQUNyRCxDQUFDO0FBckJELDhCQXFCQyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5cclxuaW1wb3J0IHsgdGVzdCB9IGZyb20gXCIuLi9hZG1pbi9hZG1pbi12aWV3LW1vZGVsXCI7XHJcbmltcG9ydCB7IExhYmVsIH0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdWkvbGFiZWxcIjtcclxuaW1wb3J0IHsgUGFnZSB9IGZyb20gXCJ0bnMtY29yZS1tb2R1bGVzL3VpL3BhZ2VcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdWkvYnV0dG9uXCI7XHJcbmltcG9ydCB7YXJyMX0gZnJvbSAnLi4vYWRtaW4vYWRtaW4tdmlldy1tb2RlbCc7XHJcbmltcG9ydCB7IEV2ZW50RGF0YSB9IGZyb20gXCJ0bnMtY29yZS1tb2R1bGVzL2RhdGEvb2JzZXJ2YWJsZVwiO1xyXG5pbXBvcnQgKiBhcyBkaWFsb2dzIGZyb20gXCJ0bnMtY29yZS1tb2R1bGVzL3VpL2RpYWxvZ3NcIjtcclxuXHJcbmltcG9ydCB7IExpc3RWaWV3LCBJdGVtRXZlbnREYXRhIH0gZnJvbSBcInRucy1jb3JlLW1vZHVsZXMvdWkvbGlzdC12aWV3XCI7XHJcbmltcG9ydCB7IGZyb21PYmplY3QsIGZyb21PYmplY3RSZWN1cnNpdmUsIE9ic2VydmFibGUsIFByb3BlcnR5Q2hhbmdlRGF0YSB9IGZyb20gXCJ0bnMtY29yZS1tb2R1bGVzL2RhdGEvb2JzZXJ2YWJsZVwiO1xyXG5cclxubGV0IGExPWFycjE7XHJcbmxldCBhPXRlc3QoKTtcclxubGV0IHJvdXRlMV9sYXQ9W107XHJcbmxldCByb3V0ZTFfbG9uPVtdO1xyXG5sZXQgcm91dGUxX25hbWU9W107XHJcbmxldCByb3V0ZTI9W107XHJcbmxldCBsZW49YS5sZW5ndGg7XHJcbnZhciBuID0gMDtcclxud2hpbGUgKG4gPCBsZW4pIHtcclxuICBsZXQgYWIxPXt9O1xyXG4gIGFiMVsndGl0bGUnXSA9IGFbbl0uZW1haWw7XHJcbiAgcm91dGUyLnB1c2goYWIxKTsgICAgXHJcbiAgbisrO1xyXG59XHJcbmNvbnNvbGUubG9nKHJvdXRlMik7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb25UYXAoYXJnczogRXZlbnREYXRhKSB7XHJcbiAgY29uc3QgYnV0dG9uOiBCdXR0b24gPSA8QnV0dG9uPmFyZ3Mub2JqZWN0O1xyXG4gIGNvbnN0IHBhZ2U6IFBhZ2UgPSBidXR0b24ucGFnZTtcclxuICBcclxuICBwYWdlLmZyYW1lLm5hdmlnYXRlKFwiLi9hZG1pbi9hZG1pbi1wYWdlXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb25OYXZpZ2F0aW5nVG8oYXJnczogRXZlbnREYXRhKSB7XHJcbiAgbGV0IGExPWFycjE7XHJcbmxldCBhPXRlc3QoKTtcclxubGV0IHJvdXRlMV9sYXQ9W107XHJcbmxldCByb3V0ZTFfbG9uPVtdO1xyXG5sZXQgcm91dGUxX25hbWU9W107XHJcbmxldCByb3V0ZTI9W107XHJcbmxldCBsZW49YS5sZW5ndGg7XHJcbnZhciBuID0gMDtcclxud2hpbGUgKG4gPCBsZW4pIHtcclxuICBsZXQgYWIxPXt9O1xyXG4gIGFiMVsndGl0bGUnXSA9IGFbbl0uZW1haWw7XHJcbiAgcm91dGUyLnB1c2goYWIxKTsgICAgXHJcbiAgbisrO1xyXG59XHJcbmNvbnNvbGUubG9nKHJvdXRlMik7XHJcbiAgICBjb25zdCBwYWdlID0gPFBhZ2U+YXJncy5vYmplY3Q7XHJcbiAgICBjb25zdCB2bSA9IGZyb21PYmplY3Qoe1xyXG4gICAgICAgIG15VGl0bGVzOiByb3V0ZTJcclxuICAgIH0pO1xyXG4gICAgcGFnZS5iaW5kaW5nQ29udGV4dCA9IHZtO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb25MaXN0Vmlld0xvYWRlZChhcmdzOiBFdmVudERhdGEpIHtcclxuICAgIGNvbnN0IGxpc3RWaWV3ID0gPExpc3RWaWV3PmFyZ3Mub2JqZWN0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gb25JdGVtVGFwKGFyZ3MpIHtcclxuICAgIGNvbnN0IGluZGV4ID0gYXJncy5pbmRleDtcclxuICAgIGNvbnNvbGUubG9nKGluZGV4KTtcclxuICAgIGxldCBhMT1hW2luZGV4XS5faWQ7XHJcbiAgICBmZXRjaChcImh0dHA6Ly9lYzItMTgtMjE4LTE3My0xNC51cy1lYXN0LTIuY29tcHV0ZS5hbWF6b25hd3MuY29tOjMwMDAvdXNlclwiICsgJy8nICsgYTEsIHtcclxuICAgICAgICBtZXRob2Q6ICdkZWxldGUnXHJcbiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT5cclxuICAgICAgICByZXNwb25zZS5qc29uKCkudGhlbihqc29uID0+IHtcclxuICAgICAgICAgIHJldHVybiBqc29uO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICk7XHJcblxyXG4gICAgICBkaWFsb2dzLmFsZXJ0KFwiVXNlciBkZWxldGVkXCIpLnRoZW4oKCk9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJEaWFsb2cgY2xvc2VkIVwiKTtcclxuICAgIH0pO1xyXG4gICAgICBjb25zdCBwYWdlID0gYXJncy5vYmplY3QucGFnZTtcclxuICAgICAgICBjb25zdCB2bSA9IHBhZ2UuYmluZGluZ0NvbnRleHQ7XHJcbiAgICAgICAgcGFnZS5mcmFtZS5uYXZpZ2F0ZShcIi4vYWRtaW4vYWRtaW4tcGFnZVwiKTtcclxuICAgICAgXHJcblxyXG4gICAgY29uc29sZS5sb2coYFNlY29uZCBMaXN0VmlldyBpdGVtIHRhcCAke2luZGV4fWApO1xyXG59Il19